<!DOCTYPE HTML>
<html>
	<head>
		<title>Matt Belford - Log File System</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">Matt Belford - Log File System</a></h1>
					</header>

				<!-- Wrapper -->
					<section id="wrapper">
						<header>
							<div class="inner">
								<h2>Log File System</h2>
								<p>A virtually simulated file system built in C</p>
								<a class="icon brands fa-github" href="https://github.com/mattbford/Log-File-System"> Click here to see the code</a>
							</div>
						</header>

						<!-- Content -->
							<div class="wrapper">
								<div class="inner">

									<h3 class="major">What is the Log File System</h3>
									<p>A log-structured filesystem is a filesystem that operates on a disk that is structured as a list of blocks. For my virtual disk that my filesystem will operate on I use 4096 blocks of 512 bytes. The first 10 blocks are reserved. Block 0 is the 'superblock' which stores the metadata of the disk. Block 1 is our 'free node block' which has 4096 bits each representing the availability of the corresponding block address. '1' means available, '0' means unavailable. The first 10 blocks are reserved for our superblock, free node block, and INode mapping. Blocks 2 to 9 contain the INode mapping. The INode mapping uses big-endian hex values that are equivalent to the integer value of an INode block address. An INode contains the metadata associated with a file or directory including its block addresses.</p>

									<h3 class="major">The Code</h3>
									<p>The primary functionality of the file system can be found in <a href="https://github.com/mattbford/Log-File-System/blob/master/io/file.c">io/file.c</a>. All of these functions interact with the disk.c file which is responsible for making changes to the vdisk file otherwise called the "virtual disk". The code in file.c contains the following functions.
									 <ul>
									 	<li>Creation of INodes</li>
									 	<li>Find Free INode block</li>
										<li>Find Free File Block</li>
										<li>Find INode Address</li>
										<li>Find Directory Address</li>
										<li>Read File</li>
										<li>Create File (including directories)</li>
										<li>Write to File</li>
										<li>Delete File.</li>
									 </ul>
									 The <a href="https://github.com/mattbford/Log-File-System/blob/master/disk/disk.c">disk.c</a> file contains the functions responsible for writing to a block on the disk, reading a block on the disk, and creating the virtual disk. For more detail on the functionality behind each feature of the file system see the <a href="https://github.com/mattbford/Log-File-System/blob/master/readme.txt">readme</a></p>

								</div>
							</div>

					</section>

				<!-- Footer -->
					<section id="footer">
						<div class="inner">
							<ul class="icons" style="text-align: center;width: 100%">
								<li style="margin-right: 150px"><a class="icon brands fa-linkedin" href="https://www.linkedin.com/in/matthew-belford-790118141/"></a> Matthew Belford</li>
								<li class="icon solid fa-envelope" style="margin-left: auto; margin-right: auto;"> mattbford(at)live(dot)com</li>							
								<li style="margin-left: 150px"><a class="icon brands fa-github" href="https://github.com/mattbford"></a> mattbford</li>
							</ul>
						</div>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>